+++
date = '2025-08-16T09:49:21+08:00'
draft = false
title = 'Channel'
+++
### csp并发模型
go在协程见通信使用channel进行通信。go的协程间通信的哲学是使用消息（channel）通信，而不是共享内存。为什么呢？
使用消息通信的好处是
1. 没有共享状态，避免锁和竞争问题。
2. 通信即同步，即通信双方都必须要在通道上同步，才能完成信息交换
### channel
channel是一个并发安全的，FIFO的用于不同goroutine间传递数据的管道。
#### 底层原理
底层是一个chan结构体，里面有一个环形队列和首尾指针，以及待发送队列和待接受队列。
#### 使用方法和使用场景
##### 使用场景
1. 协程间的数据传递和交换
2. 协程间的同步与协调
3. 控制并发数/实现信号量
4. 超时处理与非阻塞操作
5. 协程的取消与退出通知
6. 实现发布订阅的简单消息队列、简单协程池
7. 实现限流算法（令牌桶）
#### 需要注意的点
