+++
date = '2025-08-03T11:01:53+08:00'
draft = false
title = '初始化方法比较'
tags = ['go', 'make', 'new', '初始化']
+++
### make和new的初始化比较
|           |           make          |         new          |
|:---------:|:-----------------------:|:--------------------:|
|    返回值    |        返回实例化对象本身        |  返回类型并清空返回实例化对象的指针   |
| 作用类型、常见用法 |    slice、map、channel    |         所有类型         | 
|  内部作用机制   | 初始化结构体，并初始化结构体内部的相关字段机构 | 初始化对象，清空内存，分配内存，置为零值 |
#### 为什么new slice map 得到是nil
首先 `new` 严格遵守返回的是初始化对象指针的原则，而`new` `slice`、`map`的时候，返回的就是对象的引用，只是切片和哈希的
零值就是nil,所以如果new切片和map会出现无法使用的情况。

