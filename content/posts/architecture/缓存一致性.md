+++
date = '2025-08-18T09:48:16+08:00'
draft = true
title = '缓存一致性'
+++
### 缓存一致性
缓存一致性是指保证缓存和数据库数据的一致性。为什么会发生不一致呢？考虑以下场景，当更新数据时，我们选择删除缓存（一般都是删除，因为效率更高），
然后更新数据库数据，如果有并发请求进来，刚刚删除了缓存，新请求发现没有缓存，并请求数据库，这个时候一般数据库查询更快，然后回填了缓存，再接着原来的
请求更新成功，我们就会发现缓存和数据不一致了。
#### 解决办法
##### 数据双删
##### 数据延迟双删
##### 数据延迟双删